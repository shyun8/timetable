<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Next Class Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      min-height: 100vh;
      box-sizing: border-box;
    }

    .container {
      text-align: center;
      background: #fff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      max-width: 700px;
      width: 100%;
    }

    h1.status {
      font-size: 2.2rem;
      font-weight: 600;
      color: #222;
      margin-bottom: 20px;
    }

    .time-left {
      font-size: 2.8rem;
      font-weight: 600;
      color: #e76f51;
      margin-bottom: 20px;
    }

    .message {
      font-size: 1.8rem;
      font-weight: 400;
      color: #555;
      margin-bottom: 30px;
    }

    .timetable {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .timetable div {
      background-color: #2a9d8f;
      color: white;
      border-radius: 8px;
      padding: 10px 15px;
      font-size: 1rem;
      font-weight: 500;
    }

    .footer a {
      color: #264653;
      text-decoration: none;
      font-size: 1rem;
      font-weight: 500;
    }

    .footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="status" class="status">Loading...</h1>
    <div id="time-left" class="time-left">--:--</div>
    <div id="message" class="message">Please wait...</div>
    <div class="timetable" id="timetable"></div>
    <div class="footer">
      <a href="#">View Full Timetable</a>
    </div>
  </div>

  <script>
    // Timetable data
    const timetable = {
      Monday: ["Math", "Science", "History", "Art", "PE", "English", "Geography"],
      Tuesday: ["Biology", "Math", "Music", "History", "Computer Science", "English"],
      Wednesday: ["PE", "Art", "Math", "History", "English", "Science", "Music"],
      Thursday: ["Geography", "Biology", "English", "Math", "Science", "History"],
      Friday: ["Art", "PE", "Computer Science", "Music", "Math", "Science", "English"]
    };

    const periods = [
      { start: "08:40", end: "09:30" },
      { start: "09:40", end: "10:30" },
      { start: "10:40", end: "11:30" },
      { start: "11:40", end: "12:30" },
      { start: "13:40", end: "14:30" },
      { start: "14:40", end: "15:30" },
      { start: "15:40", end: "16:30" }
    ];

    const today = new Date();
    const day = today.toLocaleString("en-US", { weekday: "long" });
    const nowMinutes = today.getHours() * 60 + today.getMinutes();

    const isWeekend = ["Saturday", "Sunday"].includes(day);
    const classes = timetable[day] || [];
    const timetableEl = document.getElementById("timetable");
    const statusEl = document.getElementById("status");
    const timeLeftEl = document.getElementById("time-left");
    const messageEl = document.getElementById("message");

    // Helper to calculate time difference
    function getTimeDiff(time) {
      const [hour, minute] = time.split(":").map(Number);
      const totalMinutes = hour * 60 + minute;
      return totalMinutes - nowMinutes;
    }

    // Render today's timetable
    classes.forEach((cls, index) => {
      const periodEl = document.createElement("div");
      periodEl.textContent = `${index + 1}: ${cls}`;
      timetableEl.appendChild(periodEl);
    });

    // Determine current status
    function updateStatus() {
      if (isWeekend) {
        statusEl.textContent = "오늘은 수업이 없어요!";
        timeLeftEl.textContent = "Enjoy your weekend!";
        messageEl.textContent = "Relax and recharge for the next week!";
        return;
      }

      let status = "이따 만나요!";
      let timeLeftMessage = "";
      let nextClass = null;

      for (let i = 0; i < periods.length; i++) {
        const { start, end } = periods[i];
        const startDiff = getTimeDiff(start);
        const endDiff = getTimeDiff(end);

        if (startDiff <= 0 && endDiff > 0) {
          // During class
          status = `${classes[i]} 수업 진행 중`;
          timeLeftMessage = `${Math.floor(endDiff / 60)}시간 ${endDiff % 60}분 남음`;
          messageEl.textContent = `${classes[i]} 종료까지 남은 시간`;
          break;
        } else if (startDiff > 0) {
          // Before next class
          status = "쉬는 시간 진행 중";
          timeLeftMessage = `${Math.floor(startDiff / 60)}시간 ${startDiff % 60}분 남음`;
          nextClass = classes[i];
          messageEl.textContent = `${nextClass} 시작까지 남은 시간`;
          break;
        }
      }

      // Special cases
      if (getTimeDiff("12:30") <= 0 && getTimeDiff("13:40") > 0) {
        status = "점심시간 진행 중";
        timeLeftMessage = `${Math.floor(getTimeDiff("13:40") / 60)}시간 ${getTimeDiff("13:40") % 60}분 남음`;
        messageEl.textContent = "다음 수업 시작까지 남은 시간";
      } else if (getTimeDiff("16:30") <= 0) {
        status = "내일 만나요!";
        timeLeftMessage = "오늘 하루 수업이 끝났습니다!";
        messageEl.textContent = "즐거운 저녁 되세요!";
      }

      statusEl.textContent = status;
      timeLeftEl.textContent = timeLeftMessage;
    }

    updateStatus();
    setInterval(updateStatus, 60000); // Update every minute
  </script>
</body>
</html>


